# 8. 실용주의 프로젝트

- 프로젝트의 성패를 좌우하는 핵심적인 부분 몇 가지에 대해서 이야기해 보자
- 실용주의 팀
  - 한 프로젝트에 참여하는 사람이 한 명을 넘어서 부터는, 기본적인 룰 몇 가지를 정립하고 거기에 맞게 프로젝트의 각 부분을 위임할 필요가 있다.
- 유비쿼터스 자동화
  - 프로젝트 차원의 활동들을 일관성 있고 신뢰할 만하게 하는 가장 중요한 요소는 일의 과정을 자동화하는 것이다
- 가차 없는 테스트
  - 프로젝트 차원의 테스트 철학과 도구들에 대해, 특히 많은 QA인력들을 마음대로 부릴 수 없는 경우에 대해 이야기한다
- 결국은 모두 글쓰기
  - 문서화
- 위대한 유산
  - 프로젝트는 후원자 눈에 들어야 성공이다
  - 결국 중요한 것은 결과가 성공으로 인식되느냐이다
  - 모든 프로젝트의 후원자를 기쁘게 하는 비결을 알려드리겠다
- 오만과 편견
  - 마지막 팁은 모든 팁들의 직접적 결과로 나오는 것이다
  - 자신의 작업에 자부심을 갖고 낙관을 찍을 것을 권한다

## 41. 실용주의 팀

- 이 책에서 우리는 개인이 더 나은 프로그래머가 되게 도와주는 실용주의 기법들을 살펴보았다
- 이런 방법들은 팀에도 적용될 수 있다
- 앞에서 나온 몇 가지 항목을 팀이라는 측면에서 다시 한번 살펴보자

### 깨진 창문을 없애라

- 품질은 팀의 이슈다
- 부지런한 개발자도 품질에 무심한 팀에 배치된다면 귀찮은 문제를 고치는 그의 열정은 줄어들 것이다
  - 개발자가 이런 수정 작업을 하느라 시간 보내는 것을 팀이 적극적으로 방해하고 나선다면 문제는 더욱 커진다
- 팀 전체가 깨진 창문(아무도 고치려고 하지 않는 사소한 결점)을 용납하지 않아야 한다
- 팀은 상품의 품질에 대해 책임을 져야만 한다
- 몇몇 팀은 품질 관리 담당자가 있어 상품의 품질에 대한 책임을 팀에게서 위임 받는다
  - 정말 웃기는 일이다
  - 품질은 팀원 전체가 개인적으로 기여할 때만 보장되기 때문이다

### 삶은 개구리

- `돌멩이 스프와 삶은 개구리`에서 냄비 속에 있던 불쌍한 개구리를 기억하는가?
- 그 개구리는 서서히 변하는 환경을 감지하지 못하고 결국 삶아진다
- 동일한 상황이 방심하는 사람들에게도 생길 수 있다
- 개인보다는 팀이 삶은 개구리가 되기 쉽다
  - 사람들은 누군가 문제를 처리하겠거니 생각하거나, 사용자가 요구하는 변화에 대해 팀 리더가 이미 오케이했거니 하고 여긴다
  - 제아무리 단단히 통제되는 팀이라도 자기네 프로젝트가 심각하게 변화하는 것에 대해 둔감할 수 있다
- 모든 사람이 적극적으로 환경 변화를 감시해야 한다
  - 수석 온도 감시자를 선임해야 할지도 모른다
  - 그가 범위의 확장, 시간 척도의 감소, 추가 기능, 새로운 환경 등 무엇이건 간에 애초 합의사항에 있지 않았던 것들을 항상 점검하도록 하라
- 새 요구사항에 대해서는 수치를 보유하라
  - 이미 일어난 변화를 거부할 필요는 없다
  - 단지 그런 일이 벌어지고 있다는 것을 알고 있으면 된다
  - 그렇지 않다면 뜨거운 물속에서 삶아지는 신세가 될 것이다

### 소통하라

- 훌륭한 프로젝트 팀은 뚜렷한 특성을 갖는다
  - 모든 사람이 좋아할 만한 잘 준비된 퍼포먼스를 보게 될 걸 알기 때문에 사람들은 회의를 기대한다
  - 그들이 생산해 내는 문서는 깔끔하고 정확하며 일관적이다
  - 팀은 한 목소리로 이야기한다
  - 심지어 유머감각도 있을 것이다
- 팀이 하나로서 의사소통하게 도와주는 간단한 마케팅 비결 => 프로젝트를 시작할 때 이름을 지어주는 것
  - 유별난 이름이라면 더 좋다(과거에는 양을 잡아 먹는 앵무새, 시작적 환상, ...)

### 반복하지 마라

- 중복은 노력을 낭비하게 하고, 결국 유지보수의 악몽을 끌어들일 수도 있다
- 여기에는 훌륭한 의사소통이 분명 도움이 된다
- 하지만 그 외에도 다른 것이 필요한 경우가 있다

### 직교성

- 전통적인 팀 - 비즈니스 분석가, 아키텍트, 디자이너, 프로그래머, 테스터, 문서화 작업자 등
- 여기에 암묵적으로 사용자에게 가까이 갈수록 더 고위직이다
- 프로젝트의 여러 활동(분석, 설계, 코딩, 테스팅)이 독립적으로 이루어진다는 것은 잘못된 생각이다

> Tip 60. 팀을 기능 중심으로 조직하라

- 우리는 팀을 기능적으로 분리하는 것을 선호한다
  - 사람들을 작은 팀으로 나누고, 각 팀은 최종 시스템의 특정한 기능 측면에 대해 책임지도록 한다
  - 팀이 개개인의 강점 위에 스스로 티부를 조직하게 하라
- 우리는 응집력 있고, 자족적(self-contained)인 사람들의 팀을 원한다
- 팀이 잘못 조직되었음을 경고해주는 신호가 보일 때가 있다
  - 두 개의 서브팀이 동일한 모듈이나 클래스에 대해 작업하는 것이 바로 고전적인 예다
- 이렇게 기능 중심으로 팀을 조직하면 어떤점이 좋을까?
  - 결합도 줄이기, 혹은 직교성 같은 코드를 조직할 때 쓰는 기법을 사용해서 자원을 조직하는 것이다
  - 그렇게 하면 팀들은 분리해서 어떤 변화가 생기더라도 전체가 영향받는 일이 없게 된다
  - 만약 사용자가 급하게 데이터베이스 벤더를 바꾸기로 결정한다면 영향을 받는 것은 데이터베이스팀뿐이어야 한다
- 이 기법은 개발자들이 더욱 헌신적인 집단이 되도록 해준다
  - 팀 각각은 특정 기능에 대한 책임이 오직 그들 자신에게 있다는 것을 알기 때문에, 자신의 산출물에 대해 주인의식을 더 많이 느낀다
- 그러나 이 기법은 책임감 있는 개발자들과 강력한 프로젝트 관리가 있을 경우에만 효과가 있다
  - 자율적인 팀을 여럿 만들고 리더십없이 그냥 제멋대로 내버려두면 재앙이 벌어진다
  - 프로젝트에는 최소한 우두머리가 둘 필요하다
    - 하나는 기술을 담당하는 수석
    - 하나는 관리를 담당하는 수석
- 관리수석 혹은 프로젝트 매니저는 각 팀이 필요로 하는 자원을 계획하고, 진척도를 모니터하고, 그에 대해 보고하며, 비즈니스 가치의 관점에서 우선순위를 결정하는 데에 도움을 준다
- 관리 수석은 팀이 바깥 세상과 대화하는 외교관 역할을 한다

### 자동화

- 일관성과 정확성을 보장하는 훌륭한 방법은, 팀이 하는 모든 일을 자동화하는 것이다
- makefile, 셸 스크립트, 에디터 템플릿, 유틸리티 프로그램 등을 만들게 하라

### 덧칠을 언제 멈출지 알아라

- 팀은 개인들로 이루어진다는 사실을 명심하라
- 각 팀원이 자신의 방식대로 빛나게 해주어라
- 그들이 지원하기에, 그리고 프로젝트가 요구사항에 맞게 이루어지기에 딱 좋을 만큼의 구조를 제공하라
- 그러고 나서 '적당히 괜찮은 소프트웨어'에 나오는 화가 처럼, 계속 덧칠하려는 욕구를 참는 것이다

### 관련 항목

- 소프트웨어 엔트로피
- 돌멩이 스프와 삶은 개구리
- 적당히 괜찮은 소프트웨어
- 소통하라
- 중복의 해악
- 직교성
- 계약에 의한 설계
- 결합도 줄이기와 디미터 법칙
- 유비쿼터스 자동화

## 42. 유비쿼터스 자동화

- 예전엔 자동차 시동을 거는 과정이 복잡했다
  - 요즘 자동차는 간단히 열쇠만 돌리면 된다
- 우리는 프로젝트에서 일관성과 반복가능성을 확보하고 싶다
  - 수작업이란 것은 일관성을 운에 맡긴다
  - 반복가능성을 보장받지 못하는 것이다

### 전자동

- IDE 세팅을 안내해도 모든 개발자의 컴퓨터는 조금씩 다르게 세팅되었다

> Tip 61. 수작업 절차를 사용하지 말라

- 셸 스크립트
- cron
  - 작업이 주기적으로 실행되게 일정을 설정해놓을 수 있다

### 프로젝트 컴파일

- 프로젝트 컴파일은 귀찮은 일이다
- 믿을만하고 반복가능하게 만들어야 한다

### 코드 생성

- 다른 소스에서 자동으로 파일을 생성하도록 하는 것이다

### 회귀 테스트

- 각 모듈 또는 전체 서브시스템에 대해 회귀 테스트가 실행되도록 makefile을 사용할 수도 있다
- 이후 나오는 '가차 없는 테스트' 참고

### 빌드 자동화

- 빌드는 디렉터리 하나를 가지고 프로젝트를 밑바닥부터 만드는 과정으로, 생산해내고 싶은 것을 최종 선적품으로 생산한다
- 프로젝트 빌드의 전형적인 단계
  - 1. 저장고(repository)에서 소스코드를 끄집어낸다(check out)
  - 2. 프로젝트 빌드
  - 3. 배포용 이미지를 만든다
  - 4. 테스트를 실행한다
- 테스트를 주기적으로 실행하지 않는다면, 삼 개월전의 코드 변화 때문에 애플리케이션이 깨졌다는 사실을 발견하게 될지도 모른다

### 최종 빌드

- 최종 빌드에는 저장소를 잠그고 릴리스 번호를 태그로 붙이는 작업이 필요할 수 있을 것이며,
  - 최적화와 디버그 플래그가 적절히 세팅되는 것 등 기타 여러 가지가 필요할 수 있다
- 만약 상품이 이전 버전과 다르게 컴파일 된다면, 이 버전에 대해서 전부 다시 테스트해봐야 한다는 것을 기억해라

### 자동화된 관리

- 우리는 소스코드와 문서 외 내용에 의거해 자동으로 절차들을 처리해주는 스크립트를 돌리려 한다
- 귀찮은 일의 일부를 해줄 셸 스크립트를 만들기로 결정한다고 해도 여전히 필요할 때 스크립트를 실행해야 한다는 걸 잊지 말아야 한다
- 우리의 목표는 자동화, 무인화 -> 내용주도인 작업흐름을 유지하는 것이다

#### 웹사이트 생성

- 의사소통을 위해 내부 웹사이트를 사용
  - 빌드에서 생성된 정보
  - 빌드 결과 - 컴파일 경고, 에러, 현재 상태를 포함한 요약
  - 회귀 테스트
  - 퍼포먼스 통계
  - 코딩과 관련된 수치를 포함하여 어떤 종류의 통계적 분석이건 모두

#### 승인 과정

- 몇몇 프로젝트에는 지켜야할 여러가지 다양한 절차가 있다
  - 코드의 설계 검토의 일정을 잡고 지켜야 하며, 그 승인을 받아야 하는 등 이다
- 우리는 문서 작업의 짐을 덜기 위해 자동화를 - 특히 웹사이트를 - 사용할 수 있다

### 중 머리

- 중이 제 머리 못 깎는다
- 소프트웨어를 개발하는 사람들이 흔히 가장 형편없는 도구를 쓰기도 한다
- 다양한 도구들
  - cron
  - make
  - Perl
  - 웹 페이지 생성기, 코드 생성기
  - 테스트 장치(harness) 등

### 관련 항목

- 고양이가 내 소스코드를 삼켰어요
- 중복의 해악
- 일반 텍스트의 힘
- 조개 놀이
- 디버깅
- 코드 생성기
- 실용주의 팀
- 가차 없는 테스트
- 결국은 모두 글쓰기
