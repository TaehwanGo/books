# 4. 실용주의 편집증

> 실용주의 프로그래머 Tip 30. 완벽한 소프트웨어는 만들 수 없다

- 우리는 방어적으로 운전한다

  - 문제가 생기기 전에 주의를 하고, 일어나지 않을 법한 일을 기대하며,
    (사실 우리 자신과 큰 차이가 없는) 남의 입장에서 생각해보지 않는다

- 코딩과 유사성

  - 늘 다른 사람의 (우리의 높은 기준에는 못 미칠지도 모르는) 코드와 접촉하고, 적절하거나 혹은 그렇지 못한 입력을 처리하고 있다

- 우리는 방어적으로 코딩하도록 가르침 받았다

  - 만약 조금이라도 의심이 들면, 주어진 모든 정보를 확인한다
  - 잘못된 데이터를 찾아내기 위해 단정문(assertion)을 사용한다
  - 일관성을 확인하고 데이터 베이스 컬럼에 제약을 걸면서 대부분은 스스로 만족해한다

- 하지만 실용주의 프로그래머들은 여기서 한 걸으 더 나아간다
  - `그들은 자기 자신 역시 믿지 않는다`
  - 자기 자신도 완벽한 코드를 작성할 수 없음을 알기에 자신의 실수에 대비해 방어적으로 코드를 짠다

## 개요

- 계약에 의한 설계
  - 첫 번째 방어법
  - 클라이언트와 공급자는 권리와 책임에 대해 동의해야 한다
- 죽은 프로그램은 거짓말을 하지 않는다
  - 버그를 제거하는 중에 어떤 손상도 입히지 않도록 확실히 해야 한다고 말한다
  - 이것 저것 자주 확인하고, 뭔가 일이 틀어질 때 프로그램을 종료
- 단정적 프로그래밍
  - 이런 확인을 쉽게 하는 방법을 소개한다
  - 여러분의 가정을 적극적으로 검증하는 코드를 작성한다
- 언제 예외를 사용할까
  - 예외라는 것은 다른 기법과 마찬가지로 적절히 사용하지 못하면 득보다 실이 더 많다
- 리소스 사용의 균형

  - 프로그램이 다이내믹해지면 메모리, 파일, 디바이스 같은 시스템 자원 여럿을 갖고 곡예를 하게 된다
  - 곡예 중 공을 하나도 떨어뜨리지 않는 방법을 제안한다

- 불완전한 시스템, 어림도 없는 기간, 우스꽝스러운 도구, 불가능한 요구사항으로 가득 찬 세상에서 안전하게 살아보자
